{% extends "assistencia/base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-4">
  <div>
    <h3 class="mb-0">Dashboard</h3>
    <div class="text-muted">Bem-vindo, {{ user.username }}.</div>
  </div>
  <div class="d-flex gap-2">
    <a class="btn btn-dark" href="{% url 'assistencia:ticket_create' %}">+ Novo chamado</a>
    <a class="btn btn-outline-dark" href="{% url 'assistencia:part_request_create' %}">+ Solicitar pe√ßa</a>
  </div>
</div>

<div class="row g-3">
  <div class="col-md-6 col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="text-muted">Chamados em aberto</div>
            <div class="fs-3 fw-bold">{{ my_tickets_open }}</div>
          </div>
          <div class="fs-2">üõ†Ô∏è</div>
        </div>
        <div class="mt-3 d-grid">
          <a class="btn btn-outline-dark" href="{% url 'assistencia:tickets_list' %}">Ver chamados</a>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="text-muted">Solicita√ß√µes de pe√ßa</div>
            <div class="fs-3 fw-bold">{{ my_partreq_open }}</div>
          </div>
          <div class="fs-2">üì¶</div>
        </div>
        <div class="mt-3 d-grid">
          <a class="btn btn-outline-dark" href="{% url 'assistencia:part_requests_list' %}">Ver solicita√ß√µes</a>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <div class="text-muted">Cadastro</div>
            <div class="fw-bold">M√°quinas e modelos</div>
          </div>
          <div class="fs-2">‚öôÔ∏è</div>
        </div>
        <div class="mt-3 d-grid gap-2">
          <a class="btn btn-outline-dark" href="{% url 'assistencia:machines_list' %}">Minhas m√°quinas</a>
          <a class="btn btn-outline-secondary" href="{% url 'assistencia:manuals_list' %}">Manuais</a>
        </div>
      </div>
    </div>
  </div>
</div>

<hr class="my-4">

<div class="row g-3">
  <div class="col-lg-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="mb-2">Como usar (r√°pido)</h5>
        <ol class="mb-0">
          <li>Cadastre sua m√°quina em <b>M√°quinas</b>.</li>
          <li>Abra um <b>Chamado</b> com fotos/v√≠deo e descri√ß√£o.</li>
          <li>Se precisar, crie uma <b>Solicita√ß√£o de Pe√ßa</b> e informe endere√ßo completo.</li>
          <li>Acompanhe tudo na lista de chamados/solicita√ß√µes.</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="mb-2">Atalhos</h5>
        <div class="d-grid gap-2">
          <a class="btn btn-dark" href="{% url 'assistencia:ticket_create' %}">Abrir chamado</a>
          <a class="btn btn-outline-dark" href="{% url 'assistencia:part_request_create' %}">Solicitar pe√ßa</a>
          <a class="btn btn-outline-secondary" href="/admin/">Admin</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}